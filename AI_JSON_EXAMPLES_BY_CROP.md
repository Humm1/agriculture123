# AI Analysis JSON Data Examples

This document shows the **exact JSON structures** generated by the AgroShield AI models for different crops.

---

## üå± Soil Health Analysis JSON

**Generated for:** All crops (universal soil analysis)  
**Trigger:** When uploading a soil image during plot creation  
**Model:** `SoilHealthAnalyzer` (OpenCV-based computer vision)

### Example JSON Output:

```json
{
  "fertility_score": 7.5,
  "soil_type": "loamy",
  "texture": "loam",
  "ph_estimate": "6.5 - 7.2",
  "moisture_level": "adequate",
  "organic_matter": "4.2%",
  "nutrients": {
    "nitrogen": "medium",
    "nitrogen_score": 0.65,
    "nitrogen_percentage": "0.15%",
    "phosphorus": "high",
    "phosphorus_score": 0.82,
    "phosphorus_ppm": "45 ppm",
    "potassium": "medium",
    "potassium_score": 0.71,
    "potassium_ppm": "180 ppm"
  },
  "color_analysis": {
    "dominant_color": "brown",
    "color_name": "dark_brown",
    "rgb": [82, 61, 45],
    "hsv": [15, 45, 32]
  },
  "confidence": 0.87,
  "analysis_timestamp": "2025-10-27T10:30:45.123456"
}
```

### What This Means:

- **fertility_score**: 0-10 scale (7.5 = Good fertility)
- **soil_type**: Classification based on Munsell color charts
- **texture**: USDA soil texture triangle classification
- **ph_estimate**: Soil acidity/alkalinity range (ideal: 6.0-7.0)
- **moisture_level**: very_dry | dry | adequate | moist | saturated
- **organic_matter**: Percentage of decomposed plant/animal material
- **nutrients**: NPK levels (Nitrogen, Phosphorus, Potassium)
  - **Level**: very_low | low | medium | adequate | high
  - **Score**: 0.0-1.0 decimal value
  - **Measurements**: Actual percentages or PPM values

---

## üåæ Tomato Crop - Pest & Disease Analysis JSON

**Generated for:** Tomatoes (Solanum lycopersicum)  
**Trigger:** When uploading crop health image  
**Model:** `PestDiseaseDetector` (14+ pests/diseases detection)

### Example JSON Output:

```json
{
  "health_status": "at_risk",
  "risk_level": "moderate",
  "confidence": 0.89,
  "crop_type": "tomato",
  "growth_stage": {
    "stage": "vegetative",
    "maturity": "45% developed",
    "days_to_harvest": 60,
    "description": "Active leaf growth, stem elongation"
  },
  "health_metrics": {
    "health_score": 72,
    "vigor": "moderate",
    "leaf_color": "green",
    "yellowing_percentage": 15,
    "browning_percentage": 5,
    "spot_count": 12,
    "wilting_detected": false
  },
  "detected_pests": [
    {
      "name": "Aphids",
      "scientific_name": "Aphidoidea",
      "severity": "moderate",
      "confidence": 0.85,
      "coverage_percentage": 20,
      "location": "underside_leaves",
      "lifecycle_stage": "nymphs and adults",
      "treatment": "Apply neem oil spray (5ml/L water) every 3 days for 2 weeks",
      "immediate_action": "Spray affected areas with strong water jet to dislodge aphids",
      "economic_impact": "moderate",
      "estimated_yield_loss": "10-15%"
    }
  ],
  "detected_diseases": [
    {
      "name": "Early Blight",
      "scientific_name": "Alternaria solani",
      "pathogen_type": "fungal",
      "severity": "low",
      "confidence": 0.78,
      "affected_area_percentage": 8,
      "spread_risk": "moderate",
      "symptoms": [
        "Dark brown spots with concentric rings on lower leaves",
        "Target-like lesions with yellow halo",
        "Progressive upward movement"
      ],
      "treatment": "Apply copper-based fungicide (chlorothalonil) every 7-10 days",
      "prevention": "Improve air circulation, mulch to prevent soil splash, water at base",
      "optimal_conditions": "Warm (75-85¬∞F), humid weather favors disease",
      "resistant_varieties": ["Mountain Fresh Plus", "Plum Regal"]
    }
  ],
  "predictions": [
    {
      "issue": "Late Blight outbreak",
      "likelihood": "high",
      "timeframe": "2-3 weeks",
      "reason": "High humidity levels combined with moderate aphid infestation creating favorable conditions for pathogen spread",
      "prevention": "Apply preventive fungicide now, reduce leaf wetness, increase plant spacing"
    }
  ],
  "immediate_actions": [
    "Remove heavily infested lower leaves within 24 hours",
    "Apply organic pesticide (neem oil or insecticidal soap)",
    "Set up yellow sticky traps for aphid monitoring",
    "Check plants daily for disease progression"
  ],
  "analysis_timestamp": "2025-10-27T10:45:30.987654"
}
```

---

## üåΩ Maize/Corn - Pest & Disease Analysis JSON

**Generated for:** Maize (Zea mays)  
**Trigger:** When uploading crop health image

### Example JSON Output:

```json
{
  "health_status": "healthy",
  "risk_level": "low",
  "confidence": 0.92,
  "crop_type": "maize",
  "growth_stage": {
    "stage": "flowering",
    "maturity": "70% developed",
    "days_to_harvest": 35,
    "description": "Tassels emerged, silks visible, pollination active"
  },
  "health_metrics": {
    "health_score": 88,
    "vigor": "high",
    "leaf_color": "dark_green",
    "yellowing_percentage": 2,
    "browning_percentage": 0,
    "spot_count": 0,
    "wilting_detected": false
  },
  "detected_pests": [],
  "detected_diseases": [],
  "predictions": [
    {
      "issue": "Corn Borer infestation",
      "likelihood": "low",
      "timeframe": "4-6 weeks",
      "reason": "Flowering stage attracts borers, but current plant vigor is high",
      "prevention": "Monitor for egg masses on undersides of leaves, consider Bt application if needed"
    }
  ],
  "immediate_actions": [],
  "recommendations": [
    {
      "type": "maintenance",
      "priority": "medium",
      "message": "Continue regular monitoring during flowering",
      "timing": "daily"
    },
    {
      "type": "nutrition",
      "priority": "medium",
      "message": "Apply top-dressing nitrogen fertilizer to support grain filling",
      "timing": "within_7_days"
    }
  ],
  "analysis_timestamp": "2025-10-27T11:15:22.456789"
}
```

---

## ü•î Potato - Pest & Disease Analysis JSON

**Generated for:** Potatoes (Solanum tuberosum)  
**Trigger:** When uploading crop health image

### Example JSON Output:

```json
{
  "health_status": "infected",
  "risk_level": "high",
  "confidence": 0.91,
  "crop_type": "potato",
  "growth_stage": {
    "stage": "tuber_formation",
    "maturity": "55% developed",
    "days_to_harvest": 45,
    "description": "Tubers actively growing, canopy full"
  },
  "health_metrics": {
    "health_score": 58,
    "vigor": "declining",
    "leaf_color": "yellow_green",
    "yellowing_percentage": 35,
    "browning_percentage": 20,
    "spot_count": 45,
    "wilting_detected": true
  },
  "detected_pests": [
    {
      "name": "Colorado Potato Beetle",
      "scientific_name": "Leptinotarsa decemlineata",
      "severity": "moderate",
      "confidence": 0.88,
      "coverage_percentage": 15,
      "location": "upper_leaves",
      "lifecycle_stage": "adults and larvae",
      "treatment": "Apply spinosad-based insecticide, hand-pick adults",
      "immediate_action": "Scout entire field, remove egg masses from leaf undersides",
      "economic_impact": "high",
      "estimated_yield_loss": "20-30%"
    }
  ],
  "detected_diseases": [
    {
      "name": "Late Blight",
      "scientific_name": "Phytophthora infestans",
      "pathogen_type": "oomycete",
      "severity": "high",
      "confidence": 0.94,
      "affected_area_percentage": 40,
      "spread_risk": "critical",
      "symptoms": [
        "Water-soaked lesions on leaves and stems",
        "White fuzzy mold on undersides of leaves",
        "Rapid blackening and collapse of foliage",
        "Brown rot on tubers"
      ],
      "treatment": "URGENT: Apply copper-based fungicide + mancozeb immediately, repeat every 5-7 days",
      "prevention": "Too late for prevention - focus on treatment and preventing spread",
      "optimal_conditions": "Cool (60-70¬∞F), wet weather - CURRENT CONDITIONS FAVOR DISEASE",
      "resistant_varieties": ["Defender", "Sarpo Mira", "Kiebitz"]
    }
  ],
  "predictions": [
    {
      "issue": "Total crop loss",
      "likelihood": "high",
      "timeframe": "1-2 weeks",
      "reason": "Late blight spreads extremely rapidly in wet conditions, current 40% infection will reach 90%+ without aggressive intervention",
      "prevention": "Aggressive fungicide program, remove worst-affected plants, improve drainage"
    }
  ],
  "immediate_actions": [
    "üö® URGENT: Apply copper + mancozeb fungicide within 12 hours",
    "üö® Remove and destroy heavily infected plants immediately",
    "üö® Avoid overhead irrigation - use drip only",
    "‚ö†Ô∏è Scout field twice daily for new infections",
    "‚ö†Ô∏è Harvest unaffected tubers early if possible"
  ],
  "analysis_timestamp": "2025-10-27T12:30:15.234567"
}
```

---

## üå∂Ô∏è Pepper/Chili - Pest & Disease Analysis JSON

**Generated for:** Bell Peppers, Hot Peppers (Capsicum spp.)

### Example JSON Output:

```json
{
  "health_status": "at_risk",
  "risk_level": "moderate",
  "confidence": 0.86,
  "crop_type": "pepper",
  "growth_stage": {
    "stage": "fruiting",
    "maturity": "60% developed",
    "days_to_harvest": 30,
    "description": "Fruits forming, some flowers still present"
  },
  "health_metrics": {
    "health_score": 75,
    "vigor": "moderate",
    "leaf_color": "green",
    "yellowing_percentage": 10,
    "browning_percentage": 3,
    "spot_count": 8,
    "wilting_detected": false
  },
  "detected_pests": [
    {
      "name": "Whiteflies",
      "scientific_name": "Bemisia tabaci",
      "severity": "low",
      "confidence": 0.82,
      "coverage_percentage": 8,
      "location": "underside_leaves",
      "lifecycle_stage": "mixed - eggs, nymphs, adults",
      "treatment": "Yellow sticky traps + insecticidal soap spray",
      "immediate_action": "Install yellow sticky traps to monitor population",
      "economic_impact": "low",
      "estimated_yield_loss": "5-10%"
    }
  ],
  "detected_diseases": [
    {
      "name": "Bacterial Spot",
      "scientific_name": "Xanthomonas campestris pv. vesicatoria",
      "pathogen_type": "bacterial",
      "severity": "moderate",
      "confidence": 0.79,
      "affected_area_percentage": 12,
      "spread_risk": "moderate",
      "symptoms": [
        "Small dark brown spots with yellow halos on leaves",
        "Raised scabby lesions on fruit",
        "Premature leaf drop"
      ],
      "treatment": "Copper hydroxide spray every 7-10 days, remove infected leaves",
      "prevention": "Avoid overhead watering, improve air circulation, sanitize tools",
      "optimal_conditions": "Warm, humid weather with rain or dew",
      "resistant_varieties": ["Aristotle", "Red Defender"]
    }
  ],
  "predictions": [],
  "immediate_actions": [
    "Apply copper spray before next rain event",
    "Remove and dispose of infected leaves",
    "Install whitefly sticky traps"
  ],
  "analysis_timestamp": "2025-10-27T13:00:42.876543"
}
```

---

## üìä Summary of Generated Data

| **Crop Type** | **Health Status** | **Pests Detected** | **Diseases Detected** | **Fertility Score** |
|--------------|-------------------|-------------------|---------------------|-------------------|
| Tomato | At Risk | Aphids (moderate) | Early Blight (low) | 7.5/10 |
| Maize/Corn | Healthy | None | None | 7.2/10 |
| Potato | Infected | Colorado Beetle | Late Blight (high) | 6.8/10 |
| Pepper | At Risk | Whiteflies (low) | Bacterial Spot | 7.1/10 |

---

## üîç How to View JSON Data in AgroShield

1. **Create a plot** with images (soil + crop health photos)
2. **Navigate to Growth Tracking**
3. **Select your plot** from the dropdown
4. **Click "Show JSON"** button next to:
   - üå± Soil Health Metrics
   - üêõ Disease & Pest Detection
5. **View the formatted JSON** in dark code editor theme
6. **Scroll horizontally/vertically** to see all data

---

## üéØ Supported Crops (All Generate JSON)

The AI models generate JSON analysis for **ANY crop**, including:

- **Vegetables**: Tomato, Potato, Pepper, Cabbage, Carrot, Lettuce
- **Grains**: Maize, Wheat, Rice, Barley
- **Legumes**: Beans, Peas, Lentils, Soybeans
- **Fruits**: Strawberry, Watermelon, Pumpkin
- **Cash Crops**: Cotton, Tobacco, Sugarcane

---

## üß™ Technical Details

### Soil Analysis Technology:
- **Computer Vision**: OpenCV 4.8.0
- **Color Analysis**: Munsell soil color charts
- **Texture Classification**: USDA soil texture triangle
- **NPK Detection**: Color-based nutrient indicators
- **pH Estimation**: Soil color to pH mapping

### Pest/Disease Detection Technology:
- **Pattern Recognition**: Edge detection, color segmentation
- **Growth Stage**: HSV color space analysis
- **Pest Database**: 7 common pests with characteristics
- **Disease Database**: 7 common diseases with symptoms
- **Prediction Engine**: Condition-based forecasting

### Data Storage:
- **Database**: Supabase PostgreSQL
- **Table**: `plot_images`
- **Column**: `ai_analysis` (JSONB type)
- **Indexing**: GIN index for fast JSON queries

---

## üìù Notes

- All JSON data is **automatically generated** when uploading images during plot creation
- The "Show JSON" button reveals this data in **real-time** from the database
- If no JSON appears, the plot may not have images with AI analysis
- Create a **new plot with images** to see fresh AI-generated JSON data
