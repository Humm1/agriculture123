# AgroShield Backend Environment Variables
# Copy this file to .env and fill in your actual API keys

# ============================================================================
# WEATHER APIS
# ============================================================================

# OpenWeatherMap (Primary Weather Source)
# Get your free API key: https://home.openweathermap.org/api_keys
# Free tier: 1,000 calls/day, 60 calls/minute
OPENWEATHER_API_KEY=your_openweather_api_key_here

# WeatherAPI (Fallback Weather Source)
# Get your free API key: https://www.weatherapi.com/my/
# Free tier: 1,000,000 calls/month
WEATHERAPI_KEY=your_weatherapi_key_here


# ============================================================================
# SATELLITE IMAGERY (OPTIONAL)
# ============================================================================

# Sentinel Hub (Advanced Satellite Imagery - Optional)
# Get OAuth credentials: https://www.sentinel-hub.com/
# Free tier: 5,000 requests/month
SENTINEL_CLIENT_ID=your_sentinel_client_id_here
SENTINEL_CLIENT_SECRET=your_sentinel_client_secret_here


# ============================================================================
# PAYMENT GATEWAYS
# ============================================================================

# M-Pesa (Kenya Mobile Money)
# Get credentials: https://developer.safaricom.co.ke
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_SHORTCODE=174379
MPESA_PASSKEY=your_mpesa_passkey
MPESA_CALLBACK_URL=https://your-domain.com/api/payments/mpesa-callback

# Stripe (International Payments)
# Get keys: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal (International Payments)
# Get credentials: https://developer.paypal.com/dashboard/
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox  # Change to 'live' for production

# CoinGate (Crypto Payments)
# Get API key: https://coingate.com/
COINGATE_API_KEY=your_coingate_api_key
COINGATE_MODE=sandbox  # Change to 'live' for production

# Flutterwave (Visa Direct / Africa Payments)
# Get keys: https://dashboard.flutterwave.com/
FLUTTERWAVE_PUBLIC_KEY=FLWPUBK_TEST-your_public_key
FLUTTERWAVE_SECRET_KEY=FLWSECK_TEST-your_secret_key
FLUTTERWAVE_ENCRYPTION_KEY=FLWSECK_TEST-your_encryption_key


# ============================================================================
# DATABASE
# ============================================================================

# Database connection (if using PostgreSQL)
# DATABASE_URL=postgresql://user:password@localhost:5432/agroshield

# Redis cache (optional for performance)
# REDIS_URL=redis://localhost:6379/0


# ============================================================================
# SUPABASE (Authentication & Database)
# ============================================================================

# Supabase Project Configuration
# Get credentials from: https://app.supabase.com/project/_/settings/api
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# JWT Secret (from Supabase Settings -> API -> JWT Secret)
# Used for verifying tokens issued by Supabase Auth
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here


# ============================================================================
# SMS GATEWAY (Optional - for notifications)
# ============================================================================

# Twilio (International SMS)
# Get credentials: https://console.twilio.com/
TWILIO_ACCOUNT_SID=your_twilio_account_sid_here
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890

# Africa's Talking (Africa SMS - Recommended for Kenya)
# Get credentials: https://account.africastalking.com/
AFRICASTALKING_USERNAME=sandbox
AFRICASTALKING_API_KEY=your_africastalking_api_key_here


# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment
ENVIRONMENT=production  # development, staging, or production

# API Base URL
API_BASE_URL=https://agropulse-ai.vercel.app/api

# Frontend URL (for CORS)
FRONTEND_URL=



# Admin email for notifications
ADMIN_EMAIL=codeternal8@gmail.com


# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
ENABLE_PAYMENT_GATEWAY=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_SATELLITE_DATA=false  # Set to true if you have Sentinel Hub credentials
ENABLE_ADVANCED_MARKET_API=false  # Set to true for premium market data APIs


# ============================================================================
# API RATE LIMITS
# ============================================================================

# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# Max API calls per day per user
MAX_API_CALLS_PER_DAY=1000


# ============================================================================
# LOGGING
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file location
LOG_FILE=logs/agroshield.log


# ============================================================================
# NOTES
# ============================================================================

# NASA POWER API: No key required! It's completely free.
# WFP VAM API: No key required for basic access (rate limited)
# Market Data: Uses public APIs + regional estimates

# IMPORTANT: 
# 1. Never commit this .env file to version control
# 2. Add .env to .gitignore
# 3. Use different keys for development and production
# 4. Rotate keys regularly for security

# For Production Deployment:
# - Use strong SECRET_KEY (generate with: openssl rand -hex 32)
# - Switch all APIs from sandbox/test to live/production mode
# - Enable HTTPS only
# - Set up proper error monitoring (Sentry, etc.)
# - Configure backup credentials for critical APIs
